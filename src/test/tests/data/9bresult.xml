<p:declare-step xmlns:p="http://www.w3.org/ns/xproc" xmlns:xproc="http://xproc.net/xproc" name="main" xproc:type="comp-step"><ext:pre xmlns:ext="http://xproc.net/xproc/ext" xproc:default-name="!1.0"><p:input port="source"></p:input><p:outport port="result"></p:outport></ext:pre><p:string-replace name="patch-test-uris" xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true" select="/"><p:pipe port="result" step="!1.0"></p:pipe></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:with-option name="match"></p:with-option><p:with-option name="replace"></p:with-option></p:string-replace><p:identity name="extract-uri" xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" sequence="true" primary="true" select="/"><p:pipe port="result" step="!1.1"></p:pipe></p:input><p:outport port="result" sequence="true" primary="true" select="/"></p:outport></p:identity><p:choose xproc:step="true" xproc:type="comp-step" default-element="test"><p:input port="source" primary="true" select="/"><p:pipe port="result" step="!1.2"></p:pipe></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:when xproc:step="true" xproc:type="comp-step" default-element="test"><p:wrap-sequence xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" sequence="true" primary="true" select="/"></p:input><p:outport port="result" sequence="true" primary="true" select="/"></p:outport><p:with-option name="wrapper"></p:with-option><p:with-option name="group-adjacent"></p:with-option></p:wrap-sequence></p:when><p:otherwise xproc:step="true" xproc:type="comp-step" default-element="test"><p:wrap-sequence xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" sequence="true" primary="true" select="/"></p:input><p:outport port="result" sequence="true" primary="true" select="/"></p:outport><p:with-option name="wrapper"></p:with-option><p:with-option name="group-adjacent"></p:with-option></p:wrap-sequence></p:otherwise></p:choose><p:choose xproc:step="true" xproc:type="comp-step" default-element="test"><p:input port="source" primary="true" select="/"><p:pipe port="result" step="!1.3"></p:pipe></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:when xproc:step="true" xproc:type="comp-step" default-element="test"><p:identity xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" sequence="true" primary="true" select="/"></p:input><p:outport port="result" sequence="true" primary="true" select="/"></p:outport></p:identity></p:when><p:otherwise xproc:step="true" xproc:type="comp-step" default-element="test"><p:wrap xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true" select="/"></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:with-option name="wrapper"></p:with-option><p:with-option name="match"></p:with-option><p:with-option name="group-adjacent"></p:with-option></p:wrap><p:add-attribute xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true"></p:input><p:outport port="result" primary="true"></p:outport><p:with-option name="match"></p:with-option><p:with-option name="attribute-name"></p:with-option><p:with-option name="attribute-prefix"></p:with-option><p:with-option name="attribute-namespace"></p:with-option><p:with-option name="attribute-value"></p:with-option></p:add-attribute><p:wrap xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true" select="/"></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:with-option name="wrapper"></p:with-option><p:with-option name="match"></p:with-option><p:with-option name="group-adjacent"></p:with-option></p:wrap><p:add-attribute xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true"></p:input><p:outport port="result" primary="true"></p:outport><p:with-option name="match"></p:with-option><p:with-option name="attribute-name"></p:with-option><p:with-option name="attribute-prefix"></p:with-option><p:with-option name="attribute-namespace"></p:with-option><p:with-option name="attribute-value"></p:with-option></p:add-attribute><p:add-attribute xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true"></p:input><p:outport port="result" primary="true"></p:outport><p:with-option name="match"></p:with-option><p:with-option name="attribute-name"></p:with-option><p:with-option name="attribute-prefix"></p:with-option><p:with-option name="attribute-namespace"></p:with-option><p:with-option name="attribute-value"></p:with-option></p:add-attribute><p:add-attribute xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true"></p:input><p:outport port="result" primary="true"></p:outport><p:with-option name="match"></p:with-option><p:with-option name="attribute-name"></p:with-option><p:with-option name="attribute-prefix"></p:with-option><p:with-option name="attribute-namespace"></p:with-option><p:with-option name="attribute-value"></p:with-option></p:add-attribute><p:set-attributes xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true" select="/"></p:input><p:input port="attributes" primary="false" select="/"></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:with-option name="match"></p:with-option></p:set-attributes><p:http-request xproc:step="true" xproc:type="std-step" default-element="test"><p:input port="source" primary="true" select="/"></p:input><p:outport port="result" primary="true" select="/"></p:outport><p:with-option name="byte-order-mark"></p:with-option><p:with-option name="cdata-section-elements"></p:with-option><p:with-option name="doctype-public"></p:with-option><p:with-option name="doctype-system"></p:with-option><p:with-option name="encoding"></p:with-option><p:with-option name="escape-uri-attributes"></p:with-option><p:with-option name="include-content-type"></p:with-option><p:with-option name="indent" select="'false'"></p:with-option><p:with-option name="media-type"></p:with-option><p:with-option name="method" select="'xml'"></p:with-option><p:with-option name="normalization-form"></p:with-option><p:with-option name="omit-xml-declaration"></p:with-option><p:with-option name="standalone"></p:with-option><p:with-option name="undeclare-prefixes"></p:with-option><p:with-option name="version" select="'1.0'"></p:with-option></p:http-request></p:otherwise></p:choose></p:declare-step>
